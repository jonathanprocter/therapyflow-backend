@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Core Brand Colors - EXACT hex values */
    --color-ivory: 242 243 241;      /* #F2F3F1 - Warm white for backgrounds */
    --color-sage: 142 165 140;       /* #8EA58C - Primary brand color */
    --color-moss: 115 138 110;       /* #738A6E - Secondary/body text */
    --color-evergreen: 52 76 61;     /* #344C3D - Headers and emphasis */
    --color-french-blue: 136 165 188; /* #88A5BC - Accent for links and CTAs */
    --color-white: 255 255 255;       /* #FFFFFF - Pure white when needed */

    /* Standard Theme Variables mapped to brand colors */
    --background: 242 243 241;        /* Ivory */
    --foreground: 52 76 61;           /* Evergreen for main text */
    --card: 255 255 255;              /* Pure white #FFFFFF for cards */
    --card-foreground: 52 76 61;      /* Evergreen #344C3D for card text */
    --popover: 242 243 241;           /* EXACT Ivory #F2F3F1 for popovers */
    --popover-foreground: 52 76 61;   /* EXACT Evergreen #344C3D for popover text */
    --primary: 142 165 140;           /* Sage as primary */
    --primary-foreground: 255 255 255; /* White text on sage */
    --secondary: 242 243 241;         /* Ivory for secondary */
    --secondary-foreground: 52 76 61; /* Evergreen text on ivory */
    --muted: 242 243 241;             /* Ivory for muted backgrounds */
    --muted-foreground: 115 138 110;  /* Moss for muted text */
    --accent: 136 165 188;            /* French blue for accents */
    --accent-foreground: 255 255 255; /* White text on blue */
    --destructive: 52 76 61;          /* Use evergreen instead of red */
    --destructive-foreground: 255 255 255;
    --border: 115 138 110;            /* Moss for borders */
    --input: 242 243 241;             /* Ivory for input backgrounds */
    --ring: 142 165 140;              /* Sage for focus rings */

    /* Chart Colors using brand palette */
    --chart-1: 142 165 140;           /* Sage for primary data */
    --chart-2: 115 138 110;           /* Moss for secondary data */
    --chart-3: 136 165 188;           /* French blue for tertiary data */
    --chart-4: 122 143 120;           /* Sage dark for additional data */
    --chart-5: 107 139 166;           /* Blue dark for additional data */

    /* Radius */
    --radius: 0.75rem;
  }

  .dark {
    /* Dark mode using inverted brand colors */
    --background: 52 76 61;           /* Evergreen for dark background */
    --foreground: 242 243 241;        /* Ivory for dark text */
    --card: 115 138 110;              /* Moss for dark cards */
    --card-foreground: 242 243 241;   /* Ivory for dark card text */
    --popover: 115 138 110;           /* Moss for dark popovers */
    --popover-foreground: 242 243 241; /* Ivory for dark popover text */
    --primary: 142 165 140;           /* Keep sage as primary */
    --primary-foreground: 52 76 61;   /* Evergreen text on sage */
    --secondary: 115 138 110;         /* Moss for dark secondary */
    --secondary-foreground: 242 243 241; /* Ivory text on moss */
    --muted: 115 138 110;             /* Moss for dark muted backgrounds */
    --muted-foreground: 142 165 140;  /* Sage for dark muted text */
    --accent: 136 165 188;            /* Keep french blue for accents */
    --accent-foreground: 52 76 61;    /* Evergreen text on blue */
    --destructive: 242 243 241;       /* Ivory for dark destructive (inverted) */
    --destructive-foreground: 52 76 61;
    --border: 142 165 140;            /* Sage for dark borders */
    --input: 115 138 110;             /* Moss for dark input backgrounds */
    --ring: 142 165 140;              /* Sage for dark focus rings */
  }

  *, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body, #root {
    background-color: #F2F3F1;
    color: #738A6E;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    min-height: 100vh;
  }

  h1, h2, h3, h4, h5, h6 {
    color: #344C3D;
  }

  p, span, .text-sm {
    color: #738A6E;
  }

  a {
    color: #88A5BC;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  a:hover {
    color: #6B8BA6;
  }
}

@layer components {
  /* CRITICAL CARD FIXES - Maximum Specificity */
  .p-6.rounded-lg.transition-all.cursor-pointer {
    background-color: #FFFFFF !important;
    border: 1px solid rgba(115, 138, 110, 0.15) !important;
    box-shadow: 0 2px 4px rgba(52, 76, 61, 0.08) !important;
  }

  /* Sidebar Styling */
  aside {
    background-color: #FFFFFF !important;
    border-right: 1px solid rgba(115, 138, 110, 0.15) !important;
  }

  /* Top bar */
  [data-testid="topbar"] {
    background-color: #FFFFFF !important;
    border-bottom: 1px solid rgba(115, 138, 110, 0.15) !important;
  }

  /* CRITICAL INPUT FIELD OVERRIDES */
  input,
  input[type="text"],
  input[type="date"],
  input[type="file"],
  textarea,
  select {
    background-color: #FFFFFF !important;
    border-color: rgba(115, 138, 110, 0.3) !important;
    color: #344C3D !important;
  }

  /* SELECT AND DROPDOWN OVERRIDES */
  select,
  [data-radix-select-trigger],
  [data-radix-select-content] {
    background-color: #FFFFFF !important;
    border-color: rgba(115, 138, 110, 0.3) !important;
    color: #344C3D !important;
  }

  [data-radix-select-trigger]:focus {
    border-color: #88A5BC !important;
    box-shadow: 0 0 0 1px #88A5BC !important;
  }

  /* FILE INPUT SPECIFIC OVERRIDES */
  input[type="file"] {
    background-color: #FFFFFF !important;
    border: 1px solid rgba(115, 138, 110, 0.3) !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
  }

  input[type="file"]::-webkit-file-upload-button {
    background-color: #8EA58C !important;
    color: #FFFFFF !important;
    border: none !important;
    padding: 6px 12px !important;
    border-radius: 4px !important;
    margin-right: 8px !important;
    cursor: pointer !important;
  }

  input[type="file"]::file-selector-button {
    background-color: #8EA58C !important;
    color: #FFFFFF !important;
    border: none !important;
    padding: 6px 12px !important;
    border-radius: 4px !important;
    margin-right: 8px !important;
    cursor: pointer !important;
  }

  /* CALENDAR COMPONENT OVERRIDES */
  .react-calendar,
  [data-testid="date-picker"],
  .rdp,
  .rdp-months,
  .rdp-month,
  .rdp-table,
  .rdp-tbody,
  .rdp-tfoot {
    background-color: #FFFFFF !important;
  }

  /* Calendar day buttons */
  .rdp-button,
  .rdp-day,
  button[name="day"] {
    background-color: transparent !important;
    color: #344C3D !important;
    border: none !important;
    border-radius: 6px !important;
  }

  .rdp-button:hover,
  .rdp-day:hover,
  button[name="day"]:hover {
    background-color: rgba(136, 165, 188, 0.1) !important;
    color: #88A5BC !important;
  }

  /* Selected date */
  .rdp-button[aria-selected="true"],
  .rdp-day[aria-selected="true"],
  button[name="day"][aria-selected="true"],
  .rdp-day_selected {
    background-color: #8EA58C !important;
    color: #FFFFFF !important;
  }

  /* Today's date */
  .rdp-day_today,
  .rdp-button[data-today="true"] {
    background-color: rgba(88, 165, 188, 0.1) !important;
    color: #88A5BC !important;
    font-weight: bold !important;
  }

  /* Calendar navigation */
  .rdp-nav_button,
  .rdp-nav button {
    background-color: transparent !important;
    color: #8EA58C !important;
    border: 1px solid rgba(115, 138, 110, 0.3) !important;
  }

  .rdp-nav_button:hover,
  .rdp-nav button:hover {
    background-color: rgba(142, 165, 140, 0.1) !important;
    color: #8EA58C !important;
  }

  /* Calendar month/year headers */
  .rdp-caption,
  .rdp-caption_label {
    color: #344C3D !important;
  }

  /* Weekday headers */
  .rdp-head_cell,
  .rdp-weekday {
    color: #738A6E !important;
  }

  /* Override any yellow/warning colors globally */
  button:focus,
  button:focus-visible,
  .btn:focus,
  .btn:focus-visible,
  input:focus,
  textarea:focus,
  select:focus {
    outline: none !important;
    box-shadow: 0 0 0 1px #88A5BC !important;
    border-color: #88A5BC !important;
    background-color: #FFFFFF !important;
  }

  /* Remove yellow from disabled states */
  button:disabled,
  .btn:disabled,
  input:disabled {
    background-color: rgba(242, 243, 241, 0.5) !important;
    color: rgba(115, 138, 110, 0.6) !important;
    border-color: rgba(115, 138, 110, 0.3) !important;
  }

  /* Override any potential warning/yellow classes */
  .text-yellow-500,
  .text-yellow-600,
  .text-yellow-300,
  .text-yellow-400,
  .bg-yellow-100,
  .bg-yellow-200,
  .bg-yellow-300,
  .bg-yellow-400,
  .bg-yellow-500,
  .border-yellow-300,
  .border-yellow-400,
  .ring-yellow-500,
  input.bg-yellow-100,
  input.bg-yellow-200,
  *[class*="yellow"] {
    color: #344C3D !important;
    background-color: #FFFFFF !important;
    border-color: rgba(115, 138, 110, 0.3) !important;
    box-shadow: none !important;
  }

  /* Force override any element with yellow styling */
  * {
    --tw-bg-opacity: 1 !important;
  }
  
  .bg-yellow-50,
  .bg-yellow-100,
  .bg-yellow-200,
  .bg-yellow-300,
  .bg-yellow-400,
  .bg-yellow-500 {
    background-color: rgb(255 255 255 / var(--tw-bg-opacity)) !important;
  }

  /* AI badges */
  .px-2.py-1.text-xs.font-medium.rounded {
    background-color: #88A5BC !important;
    color: #FFFFFF !important;
  }

  /* Button styles */
  button {
    background-color: #8EA58C !important;
    color: #FFFFFF !important;
  }

  button[style*="border"] {
    background-color: transparent !important;
    border: 2px solid #88A5BC !important;
    color: #88A5BC !important;
  }

  /* French Blue icons */
  span[style*="88A5BC"] {
    color: #88A5BC !important;
  }

  /* Lucide icons */
  .lucide-sparkles,
  .lucide-calendar,
  .lucide-search {
    color: #88A5BC !important;
  }
}